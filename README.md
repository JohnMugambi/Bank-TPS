# Kafka Fraud Detector

Consists a Docker network called `kafka-network` to enable communication between the Kafka cluster and the apps

## Quickstart

-To Spin up the local single-node Kafka cluster :
docker-compose -f docker-compose.kafka.yml up

- Check the cluster is up and running
  docker-compose -f docker-compose.kafka.yml logs -f broker | grep "started"
  or to view running containers
  docker ps

- Start the transaction generator and the fraud detector:
  docker-compose up

## Usage

Show a stream of transactions in the topic `Topic-name` (optionally add `--from-beginning`):
docker-compose -f docker-compose.kafka.yml exec broker kafka-console-consumer --bootstrap-server localhost:9092 --topic `topic-name`
e.g
docker-compose -f docker-compose.kafka.yml exec broker kafka-console-consumer --bootstrap-server localhost:9092 --topic queuing.transactions

        docker-compose -f docker-compose.kafka.yml exec broker kafka-console-consumer --bootstrap-server localhost:9092 --topic streaming.transactions.legit

        docker-compose -f docker-compose.kafka.yml exec broker kafka-console-consumer --bootstrap-server localhost:9092 --topic streaming.transactions.fraud

Topics:

- `queuing.transactions`: raw generated transactions
- `streaming.transactions.legit`: legit transactions
- `streaming.transactions.fraud`: suspicious transactions

Example transaction message generated by the generator:

```json
{
  "transaction_id": "2e62df44-41ca-4004-af30-d508a9bea46e",
  "source": "BCc49Y3WJJj4",
  "target": "z8BIRHcGMwoA",
  "amount": 905.19,
  "currency": "KES",
  "date": "16/08/2021",
  "time": "17:03:06"
}
```

To access the kafka cluster from an external client, an exposed localhost:19092 is used.
